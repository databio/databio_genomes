pipeline_name: refgenie_build
sample_pipeline:
  name: refgenie
  input_schema: https://schema.databio.org/refgenie/refgenie_build.yaml
  command_template: >
    refgenie build { sample.genome }/{ sample.asset }
    {%- if sample.input_value is defined -%}
      {%- for it in sample.input_type -%}
        {%- if it == 'files' -%}
          {' --' + it + ' ' + sample.input_id[loop.index0] + '=' + sample.local_input + sample.input_id[loop.index0]}
        {%- else -%}
          {' --' + it + ' ' + sample.input_id[loop.index0] + '=' + sample.input_value[loop.index0]}
        {%- endif -%}
      {%- endfor -%}
    {%- endif -%}